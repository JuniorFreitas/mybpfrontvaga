<template>
  <div class="bg-cookies" v-if="show">
    <modal id="politica" topo fechar titulo="Política de Cookies e Termos de uso" size="g">
      <template v-slot:conteudo>
        <p style="font-family: Arial">
          Os cookies usados no site são categorizados e você pode ler sobre cada categoria e permitir ou negar
          parte ou a totalidade. Quando as categorias permitidas anteriormente são desativadas, todos os
          cookies atribuídos a essa categoria serão excluídos do seu navegador. <br><br>
          Informamos que usamos os cookies necessários para fazer o site funcionar da melhor forma possível e
          sempre aprimorar os nossos serviços. Alguns cookies são classificados como necessários e permitem a
          funcionalidade central, como segurança, gerenciamento de rede e acessibilidade . Estes cookies podem
          ser coletados e armazenados assim que você inicia sua navegação ou quando usa algum recurso que os
          requer. <br><br>
          É importante que você saiba que, quando aceita nossa política de cookies, poderemos compartilhar
          informações sobre seu uso do nosso site com nossos parceiros de mídia social, publicidade e análise,
          que podem combiná-los com outras informações que você forneceu a eles ou que eles coletaram do uso
          de seus serviços.
          <br><br>
          Então poderemos usar os seguintes cookies, de acordo com a necessidade do nosso site:
          <br>
          <br>1. COOKIES NECESSÁRIOS
          <br>
          Alguns cookies são necessários para fornecer a funcionalidade principal. O site não funcionará
          corretamente sem esses cookies e eles estão ativados por padrão e não podem ser desativados.
          <br><br> 2. PREFERÊNCIAS/ FUNCIONALIDADE<br>
          Os cookies de preferência permitem que o site se lembre de informações para personalizar a aparência
          ou o comportamento do site para cada usuário. Isso pode incluir o armazenamento de moedas, regiões,
          idiomas ou temas de cor selecionados. Para poupar seu esforço, nosso cookie de funcionalidade já
          deixa salvo aquilo que você prefere para você não ter que informar sempre suas preferências ao
          acessar nossa página.<br><br>
          3. COOKIES ANALÍTICOS<br>
          Os cookies analíticos nos ajudam a melhorar nosso site, coletando e relatando informações sobre seu
          uso.<br><br>
          4. COOKIES DE MARKETING<br>
          Estes cookies permitem que você compartilhe nosso conteúdo nas suas redes sociais. Também podem ser
          usados para rastrear visitantes em sites para permitir que os editores exibam anúncios com base em
          seu perfil de usuário e preferências. Além disso, também guardam dados sobre quantos visitantes
          viram ou clicaram nos nossos anúncios, a fim de otimizar as campanhas publicitárias.<br><br>
          5. COOKIES DE DESEMPENHO<br>
          São cookies que otimizam a experiência de uso ao coletar informações sobre as páginas acessadas, se
          apresentam erro etc.<br><br>
          6. COOKIES PRIMÁRIOS<br>
          Alguns cookies serão colocados em seu dispositivo diretamente pelo nosso site - são conhecidos como
          cookies primários. Eles são essenciais para você navegar no site e usar seus recursos.<br><br>
          7. COOKIES PROPRIETÁRIOS<br>
          São cookies definidos pelo site que você está acessando ou por terceiros em nome do site em questão.<br><br>
          8. COOKIES DE TERCEIROS<br>
          São cookies definidos por terceiros, que não fazem parte do site que você está acessando.<br><br>
          9. COOKIES DE SESSÃO OU TEMPORÁRIOS<br>
          São cookies que expiram assim que você encerra a sessão, fechando seu navegador.<br><br>
          10. COOKIES PERSISTENTES OU PERMANENTES<br>
          São cookies que permanecem no seu dispositivo durante um período determinado ou até que você os
          exclua.
          <br><br>
          Entendendo melhor:<br><br>
          O que são Cookies de um site?<br>
          Cookies são pequenos arquivos de texto enviados pelo site em questão e armazenados no seu navegador.
          Eles capturam informações sobre o seu comportamento de uso durante a navegação pelas páginas,
          podendo personalizar conteúdo e anúncios, fornecer recurso de mídia social e analisar o tráfego.
          Assim, dados fornecidos como seu nome, endereço de e-mail e preferências são armazenados e lembrados
          posteriormente por um cookie.
          <br><br>
          Controle e Restrição de cookies<br>
          As autorizações para coleta de cookies são obtidas quando de seu primeiro acesso a nosso website. As
          autorizações podem ser alteradas de acordo com as preferências de seu navegador ou simplesmente
          recusadas. Ressalvamos, contudo, que o bloqueio de cookies pode resultar na perda de funcionalidades
          ou restrição de acesso a seções de nosso website.
          <br><br>
          Como e por que usamos Cookies?<br>
          Empregamos cookies para que, quando você visita nosso website, possamos coletar automaticamente os
          seguintes dados:
          <br><br>
          a. informações técnicas como o tipo de equipamento que você utiliza (Desktop, celular, tablete ou
          outros), o sistema operacional empregado, o navegador utilizado e o endereço de IP. Estes dados são
          empregados apenas para fins estatísticos e para que possamos corrigir problemas técnicos ou
          aprimorar a experiência de navegação;
          <br><br>
          b. informações sobre a experiência de navegação em nosso website, como por exemplo as seções
          visitadas, conteúdo e serviços visualizados, o tempo de visualização, referência externas que o
          levaram a nosso website, etc. Estas informações são empregadas para que possamos entender que tipo
          de conteúdo desperta maior interesse e levar a produzir materiais e conteúdos mais assertivos para
          os usuários;
          <br><br>
          c. informações de natureza pessoal como idioma de navegação e país de origem, utilizado no propósito
          de adotar essas preferências como padrão a cada nova visita sua em nossos portais.
          <br><br>
          d. Dentre outras informações uteis para o desempenho da empresa e seus parceiros.
          <br><br>
          Então usamos Cookies para fornecer a melhor experiência de uso, tornando nossas aplicações mais
          fáceis e personalizadas, tendo por base suas escolhas e comportamento de navegação.<br><br>
          Assim, buscamos entender como você utiliza nossas aplicações e ajustar o conteúdo para torná-lo mais
          relevante para você, além de lembrar de suas preferências.<br><br>
          Os Cookies participam deste processo porquanto armazenam, leem e executam os dados necessários para
          cumprir com o nosso objetivo.<br><br>

          GERENCIAMENTO DE COOKIES<br>
          A instalação dos cookies está sujeita ao seu consentimento. Apesar da maioria dos navegadores está
          inicialmente configurada para aceitar cookies de forma automática, você pode rever suas permissões a
          qualquer tempo, de forma a bloqueá-los, aceitá-los ou ativar notificações para quando alguns cookies
          forem enviados ao seu dispositivo.<br><br>
          Atualmente, na primeira vez que você acessar nossas aplicações, será requerida a sua concordância
          com a instalação destes. Apenas após a sua aceitação eles serão ativados.<br><br>
          Dessa maneira, não apenas solicitamos sua concordância, mas também informamos que a navegação
          continuada em nossos sites será entendida como consentimento.<br><br>
          Como já dito, você pode, a qualquer tempo e sem nenhum custo, alterar as permissões, bloquear ou
          recusar os Cookies. Você também pode configurá-los caso a caso. Todavia, a revogação do
          consentimento de determinados Cookies pode inviabilizar o funcionamento correto de alguns recursos
          da plataforma.<br><br>
          Para gerenciar os cookies do seu navegador, basta fazê-lo diretamente nas configurações do
          navegador.
          <br><br>
          DISPOSIÇÕES FINAIS<br>
          Para nós, a privacidade e confiança são fundamentais na relação com você. Estamos sempre nos
          atualizando para manter os mais altos padrões de segurança.<br><br>
          Assim, reservamo-nos o direito de alterar esta Política de Cookies a qualquer tempo.<br><br>
          Ao continuar a navegação nas nossas aplicações após essa mudança se tornar eficaz, você concorda com
          elas. Aconselhamos que você sempre verifique esta Política, bem como a nossa Política de
          Privacidade.<br><br>
          Qualquer dúvida em relação à nossa Política de Cookies pode ser esclarecida entrando em contato
          conosco.

        </p>
      </template>
    </modal>
    <div class="aviso-cookies">
      <div class="textAviso">
        <slot v-if="!texto" name="texto"></slot>
        <slot v-else>
          Este site utiliza cookies para melhorar a experiência do usuário. Ao continuar, você concorda com a
          nossa política de uso de cookies.
        </slot>
      </div>
      <div class="btn-cookies">
        <button class="btn btn-sm btn-light btn-aceitar" @click="aceitarCookies()">Aceitar</button>
        <button class="btn btn-sm btn-light  btn-aceitar"
                data-bs-toggle="modal" data-bs-target="#politica"
        >Ver politica
        </button>
      </div>
    </div>
  </div>
</template>

<script>
import Modal from "@/components/utils/Modal";

export default {
  name: "Cookies",
  components: {
    Modal
  },
  props: {
    texto: {
      type: Boolean,
      default: false,
      required: false
    }
  },
  data() {
    return {
      show: true
    }
  },
  mounted() {
    this.verificarCookies();
  },
  methods: {
    verificarCookies() {
      const cookies = localStorage.getItem('cookies-expire');
      const current = new Date();
      if (!cookies) {
        this.show = true;
        return;
      }
      if (current.getTime() > cookies) {
        localStorage.removeItem('cookies-expire');
        this.show = true;
        return;
      }
      this.show = false;
    },
    aceitarCookies() {
      const current = new Date();
      const expiration = new Date(current.getFullYear(), current.getMonth(), current.getDay() + 6, 23, 59, 59);
      localStorage.setItem('cookies-expire', expiration.getTime());
      this.show = false;
    }
  },
}
</script>

<style scoped>
.bg-cookies {
  background: rgba(255, 255, 255, 0.8);
  width: 100vw;
  height: 100vh;
  top: 0;
  position: fixed;
  z-index: 10000;
}

.aviso-cookies {
  width: 90%;
  display: grid;
  align-items: center;
  background: #18446c;
  border-radius: 12px;
  color: white;
  padding: 15px;
  position: absolute;
  bottom: 40px;
  left: 4%;
  box-shadow: 2px 5px 5px #c9c9c9;
}

.textAviso {
  width: 100%;
  text-align: justify;
  margin-right: 2%;
  font-family: 'Arial', sans-serif;
  font-weight: normal;
  font-size: 0.95rem;
}

.btn-cookies {
  /*width: 15%;*/
  width: 100%;
}

.btn-aceitar {
  padding: 12px;
  margin-right: 10px;
}
</style>
